<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/paper-ripple/paper-ripple.html">
<link rel="stylesheet" href="../styles/elements/sidebar.css">

<dom-module id="portfolio-sidebar">
    <style>
        :host {
            position: fixed;
            top: 0;
            left: 0;
            max-width: 300px;
            min-width: 250px;
            min-height: 100%;
            width: 18%;
            height: 100%;
            font-family: 'Roboto Condensed', sans-serif;
            line-height: 1.5;
            box-shadow: 6px 0 8px rgba(0, 0, 0, .1);
            background-color: #fff;
            z-index: 3;
            /*-webkit-transition: all 900ms ease;
            transition: all 900ms ease;*/
        }
        /* mobile-large */
        /*@media all and (min-width: 0px) and (max-width: 400px) and (orientation: portrait) {
            #sidebarmain {
                height: 0;
                display: none;
            }
            #myname {
                display: none;
            }
            .profession {
                display: none;
            }
            .portfoliotext {
                display: none;
            }
            :host {
                min-width: 80px;
                width: 10%;
                -webkit-transition: all 900ms ease;
                transition: all 900ms ease;
            }
        }*/
        /* mobile-large-landscape */
        /*@media all and (min-width: 481px) and (orientation: landscape) {}*/
        /* tablet-small-landscape */
        /*@media all and (min-width: 600px) and (max-width: 960px) and (orientation: landscape) {}*/
        /* tablet-large-landscape */
        /*@media all and (min-width: 961px) and (orientation: landscape) {}*/
    </style>
    <template>
        <div id="sidebarmain">
            <div id="myname">{{firstName}}<span> </span>
                <strong>{{lastName}}<paper-ripple></paper-ripple></strong>
            </div>
            <template is="dom-repeat" as="profession" items="{{professions}}">
                <div class="profession">{{profession}}</div>
            </template>
            <paper-ripple id="pinkripple"></paper-ripple>
        </div>
        <div id="sidebarmenu">
            <template is="dom-repeat" id="contentList" as="content" items="{{content}}">
                <a id="{{content.text}}" on-click="toggleState" href="{{content.ref}}">
                    <i class$="{{getIcon(content.color)}}">{{content.icon}}</i>
                    <span class="portfoliotext">{{content.text}}</span>
                    <paper-ripple></paper-ripple>
                </a>
            </template>
        </div>
    </template>
    <script>
        Polymer({
            is: "portfolio-sidebar",
            properties: {
                firstName: {
                    type: "String",
                    value: "Andrés"
                },
                lastName: {
                    type: "String",
                    value: "García"
                },
                professions: {
                    type: "Array",
                    value: [
                        "Web Developer",
                        "Indsutrial Engineer"
                    ]
                },
                content: {
                    type: "Array",
                    value: [
                        {
                            text: "Profile",
                            icon: "person",
                            ref: "#",
                            color: "custom-red",
                            },
                        {
                            text: "Experience",
                            icon: "pages",
                            ref: "#",
                            color: "custom-purple"
                            },
                        {
                            text: "Projects",
                            icon: "extension",
                            ref: "#",
                            color: "custom-green"
                            },
                        {
                            text: "Skills",
                            icon: "stars",
                            ref: "#",
                            color: "custom-blue"
                            },
                        {
                            text: "Education",
                            icon: "layers",
                            ref: "#",
                            color: "custom-yellow"
                            }
                        ]

                }
            },

            /**Life Cycle CallBacks**/
            ready: function () {
                this.async(function () {
                    this.$$("#Profile").className += " active";
                });
            },

            /**Custom Prototype Methods**/
            getIcon: function (color) {
                return "material-icons md-24 " + color;
            },
            quitActive: function () {
                Array.prototype.map.call(this.$.sidebarmenu.querySelectorAll("a"), function (element) {
                    return element.className = element.className.replace("active", "");
                });
                return this;
            },

            /**Events Handlers**/
            toggleState: function (e) {
                this.quitActive()
                    .$$("#" + this.$.contentList.itemForElement(e.target).text)
                    .className += " active";
            }
        });
    </script>
</dom-module>